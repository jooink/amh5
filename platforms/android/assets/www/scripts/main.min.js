/*!
 *
 *  Web Starter Kit
 *  Copyright 2014 Google Inc. All rights reserved.
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License
 *
 */
!function(){"use strict";function t(){r.classList.remove("open"),i.classList.remove("open"),o.classList.remove("open")}function e(){r.classList.toggle("open"),i.classList.toggle("open"),o.classList.toggle("open"),o.classList.add("opened")}var n=document.querySelector.bind(document),o=n(".navdrawer-container"),r=document.body,i=n(".app-bar"),c=n(".menu"),a=n("main");a.addEventListener("click",t),c.addEventListener("click",e),o.addEventListener("click",function(e){("A"===e.target.nodeName||"LI"===e.target.nodeName)&&t()})}(),function(){"use strict";angular.module("myApp",["ngRoute","ngTouch","myApp.filters","myApp.services","myApp.directives","myApp.controllers"]).config(["$routeProvider",function(t){t.when("/show",{templateUrl:"partials/show.html",controller:"ShowCtrl"}),t.when("/add",{templateUrl:"partials/add.html",controller:"AddCtrl"}),t.otherwise({redirectTo:"/show"})}])}(),function(){"use strict";angular.module("myApp.services",[]).value("version","2.1").factory("store",["$window",function(t){var e=t.localStorage,n=function(){var t=e.getItem("wa.locations");return t?JSON.parse(t):[]},o=function(t){e.setItem("wa.locations",JSON.stringify(t))};return{get:n,put:function(t){var e=n();e.push(t),o(e)},drop:function(t){{var e=n();e.splice(t,1)}o(e)}}}]).factory("geocoder",["$window",function(t){return function(e,n){t.navigator.geolocation.getCurrentPosition(e,n,{timeout:1e4,maximumAge:1e4,enableHighAccuracy:!1})}}]).factory("forecast",["$http","$window",function(t,e){return function(n){t({method:"GET",url:"http://api.openweathermap.org/data/2.5/weather?lat="+n.lat+"&lon="+n.lng}).success(function(t){n.temp=t.main.temp,n.timestamp=new Date}).error(function(t){e.alert("Error: "+JSON.stringify(t))})}}])}(),function(){"use strict";angular.module("myApp.controllers",[]).controller("ShowCtrl",["$scope","store","forecast",function(t,e,n){t.locations=e.get(),t.deleteItem=function(n){e.drop(n),t.locations=e.get()},t.refresh=n}]).controller("AddCtrl",["$scope","$location","geocoder","store","$window","forecast",function(t,e,n,o,r,i){t.location={name:"",lat:0,lng:0},t.geocode=function(){n(function(e){t.location.lat=e.coords.latitude,t.location.lng=e.coords.longitude,t.$apply()},function(t){r.alert("ERROR "+JSON.stringify(t))})},t.save=function(t){o.put(t),e.path("/show")},t.forecast=i}])}(),function(){"use strict";angular.module("myApp.filters",[]).filter("interpolate",["version",function(t){return function(e){return String(e).replace(/\%VERSION\%/gm,t)}}]).filter("convert",function(){return function(t){return t?t+"K":"ND"}}).filter("convertTimestamp",function(){return function(t){return t?t:"never"}})}(),function(){"use strict";angular.module("myApp.directives",[]).directive("appVersion",["version",function(t){return function(e,n){n.text(t)}}]).directive("appAlbe",["albe",function(t){return function(e,n){n.text(t)}}])}();